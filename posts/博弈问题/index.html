<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>博弈问题 :: shaosy&#39;s blog</title>
  
  <script type="text/javascript"
        async
        src="https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[\[','\]\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});

MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<style>
code.has-jax {
    font: inherit;
    font-size: 100%;
    background: inherit;
    border: inherit;
    color: #515151;
}
</style>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="对于公平组合游戏而言，最重要的是^和sg函数" />
<meta name="keywords" content="博弈问题" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://siyangshao.github.io/posts/%E5%8D%9A%E5%BC%88%E9%97%AE%E9%A2%98/" />




<link rel="stylesheet" href="https://siyangshao.github.io/assets/style.css">

  <link rel="stylesheet" href="https://siyangshao.github.io/assets/green.css">






<link rel="apple-touch-icon" href="https://siyangshao.github.io/img/apple-touch-icon-192x192.png">

  <link rel="shortcut icon" href="https://siyangshao.github.io/img/favicon/green.png">



<meta name="twitter:card" content="summary" />

  
    <meta name="twitter:site" content="" />
  
    <meta name="twitter:creator" content="" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="博弈问题">
<meta property="og:description" content="对于公平组合游戏而言，最重要的是^和sg函数" />
<meta property="og:url" content="https://siyangshao.github.io/posts/%E5%8D%9A%E5%BC%88%E9%97%AE%E9%A2%98/" />
<meta property="og:site_name" content="shaosy&#39;s blog" />

  <meta property="og:image" content="https://siyangshao.github.io">

<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">


  <meta property="article:published_time" content="2021-01-26 16:06:52 &#43;0800 CST" />










<html>
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css">
</head>
<body>
    <div style="position:absolute;right:3%;top:10%;">
        <a id="logo" href="https://siyangshao.github.io"><img
                src="https://firefoxusercontent.com/dbeb73f5ba7f9457d819fa358934828a" width="75%" height="75%" /></a>
    </div>
    <div style="position:absolute;right:3%;top:30%;">
        <h1><a href="https://siyangshao.github.io">shaosy&#39;s blog</a></h1>
    </div>
    <div style="position:absolute;right:7%;top:40%;">
        <h3> <a href="https://github.com/SiyangShao">Github</a>&#160<a href="https://twitter.com/ShaoSiyang">Twitter </a></h3>
    </div>
    <script src="https://siyangshao.github.io/live2d/autoload.js"></script>

</body>
</html>



</head>
<body class="green">


<div class="container headings--one-size">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a
  href="/">
  <div class="logo">
    Main Page
  </div>
</a>

    </div>
    
    <div class="menu-trigger">menu</div>
    
    
  </div>
  
  <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/archive">Archive</a></li>
        
      
      
    

    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About</a></li>
      
    
      
        <li><a href="/archive">Archive</a></li>
      
    
    
  </ul>
</nav>

  
</header>

  <div class="content">
    
<div class="post">
  <h1 class="post-title">
    <a href="https://siyangshao.github.io/posts/%E5%8D%9A%E5%BC%88%E9%97%AE%E9%A2%98/">博弈问题</a></h1>
  <div class="post-meta">
    
      <span class="post-date">
        2021-01-26 [Updated: 2021-01-26]
      </span>
    
    
    <span class="post-author">:: shaosy</span>
    
  </div>

  
  <span class="post-tags">
    
    #<a href="https://siyangshao.github.io/tags/%E7%AE%97%E6%B3%95/">算法</a>&nbsp;
    
  </span>
  

  

  

  <div class="post-content"><div>
        <h1 id="博弈">博弈<a href="#博弈" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<p>对于博弈而言，我最常用的方法是~<del>自己自闭玩一玩看看能不能凑出解答，凑出来就去dirt一发数据</del></p>
<p>今天学到的解法是sg函数</p>
<h2 id="前置dag-game">前置—DAG Game<a href="#前置dag-game" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<h3 id="结论">结论：<a href="#结论" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p><strong>1.无后继节点的局面必败</strong></p>
<p><strong>2.必胜态的后继结点中必然存在必败态</strong></p>
<p><strong>3.必败态的后继结点均为必胜态</strong></p>
<h3 id="解释">解释：<a href="#解释" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p><strong>1.无后继节点的局面代表决策者无事可做，即已经失败</strong></p>
<p><strong>2.对于必胜态而言，意味着决策者经过一定的行动可以使得对手进入必败态，即后续节点一定存在必败态</strong></p>
<p><strong>3.对必败态，无论如何抉择对手一定必胜， 故后继结点均为必胜态</strong></p>
<h2 id="基石nim-game">基石—Nim Game<a href="#基石nim-game" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<h3 id="定义">定义：<a href="#定义" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>有n堆石子，每堆石子有$a_i$个</p>
<p>两名玩家轮流行动，每次可以从任意一堆中选取1~$a_i$个</p>
<p>取走最后一个石子的玩家获胜</p>
<p>若都采取最佳策略，先手是否必胜？</p>
<h3 id="结论-1">结论：<a href="#结论-1" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>$$
当且仅当a_1\oplus a_2\oplus \cdot\cdot\cdot a_n \ne 0时先手存在必胜策略
$$</p>
<h3 id="证明">证明：<a href="#证明" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p><img src="/images/nim_game.png" alt="nim游戏证明"></p>
<h2 id="sg函数">SG函数<a href="#sg函数" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>首先介绍mex函数：
$$
mex(S) = min_{i\in N , i \notin S}{i}
$$
即mex(S)表示最小不属于集合的非负整数</p>
<p>SG函数就是对DAG图上节点取Mex值
$$
SG(x) = mex{SG(y)|x \to y}
$$
即对局面x所有后继状态y取mex得到的值</p>
<h3 id="sg定理">SG定理<a href="#sg定理" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>对多个 DAG Game，整个游戏的SG值为
$$
SG(x) = SG(x_1) \oplus SG(x_2) \oplus \cdot \cdot\cdot SG(x_n)
$$
当且仅当SG（X）==0，先手必败</p>
<h2 id="板子题目">板子题目<a href="#板子题目" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>​		m堆石子,两人轮流取.只能在1堆中取.取完者胜.先取者负输出No.先取者胜输出Yes,然后输出怎样取子.例如5堆 5,7,8,9,10先取者胜,先取者第1次取时可以从有8个的那一堆取走7个剩下1个,也可以从有9个的中那一堆取走9个剩下0个,也可以从有10个的中那一堆取走7个剩下3个.</p>
<h3 id="input">Input<a href="#input" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>输入有多组.每组第1行是m,m&lt;=200000. 后面m个非零正整数.m=0退出.</p>
<h3 id="output">Output<a href="#output" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>先取者负输出No.先取者胜输出Yes,然后输出先取者第1次取子的所有方法.如果从有a个石子的堆中取若干个后剩下b个后会胜就输出a b.参看Sample Output.</p>
<h3 id="sample-input">Sample Input<a href="#sample-input" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<pre><code>2
45 45
3
3 6 9
5
5 7 8 9 10
0
</code></pre><h3 id="sample-output">Sample Output<a href="#sample-output" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<pre><code>No
Yes
9 5
Yes
8 1
9 0
10 3
</code></pre><h3 id="code">Code<a href="#code" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c++" data-lang="c++"><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;bits/stdc++.h&gt;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
<span style="color:#66d9ef">int</span> m , a[<span style="color:#ae81ff">200010</span>],sum,t;
<span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(){
    <span style="color:#66d9ef">while</span>(cin<span style="color:#f92672">&gt;&gt;</span>m){
        sum <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;t<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>;
        <span style="color:#66d9ef">if</span>(m<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>) <span style="color:#66d9ef">break</span>;
        <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> ; i <span style="color:#f92672">&lt;</span> m ; i<span style="color:#f92672">++</span>){
            cin<span style="color:#f92672">&gt;&gt;</span>a[i];
            sum <span style="color:#f92672">^=</span> a[i];
        }
        <span style="color:#66d9ef">if</span>(sum<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>){
            cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;No&#34;</span><span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#39;\n&#39;</span>;
        }<span style="color:#66d9ef">else</span>{
            cout<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34;Yes&#34;</span><span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#39;\n&#39;</span>;
            <span style="color:#66d9ef">for</span>(<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> ; i <span style="color:#f92672">&lt;</span> m ; i<span style="color:#f92672">++</span>){
                t <span style="color:#f92672">=</span> sum<span style="color:#f92672">^</span>a[i];
                <span style="color:#66d9ef">if</span>(t<span style="color:#f92672">&lt;</span>a[i]){
                    cout<span style="color:#f92672">&lt;&lt;</span>a[i]<span style="color:#f92672">&lt;&lt;</span><span style="color:#e6db74">&#34; &#34;</span><span style="color:#f92672">&lt;&lt;</span>t<span style="color:#f92672">&lt;&lt;</span>endl;
                }
            }
        }
    }
}
</code></pre></div><h1 id="一些结论">一些结论<a href="#一些结论" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h1>
<h2 id="巴什博弈">巴什博弈<a href="#巴什博弈" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<h3 id="题目">题目：<a href="#题目" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>有1堆n个石子，每次每人能取$[1,m]$个石子</p>
<h3 id="结论-2">结论：<a href="#结论-2" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>当且仅当$n~mod~m+1~=~0$时，先手必败</p>
<h2 id="威佐夫博弈">威佐夫博弈<a href="#威佐夫博弈" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<h3 id="题目-1">题目：<a href="#题目-1" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>有2堆石子，每人每次可以任选一堆拿走任意数量的石子或者在两堆拿走相同数量的石子</p>
<h3 id="结论-3">结论：<a href="#结论-3" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p><img src="/images/weizuofu.png" alt="威佐夫"></p>
<h2 id="斐波那契博弈">斐波那契博弈<a href="#斐波那契博弈" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<h3 id="题目-2">题目：<a href="#题目-2" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>有1堆n个石子，先手第一次可以拿任意个，但是不能全拿/全不拿，后面每个人至少拿一个，最多拿前一个人的两倍</p>
<h3 id="结论-4">结论：<a href="#结论-4" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>当且仅当石子数为斐波那契数时，先手必败</p>
<h2 id="二分图博弈">二分图博弈<a href="#二分图博弈" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h2>
<p>显然，我没学过图</p>
<p><img src="/images/erfentu.png" alt="二分图"></p>

      </div></div>

  
  
<div class="pagination">
    <div class="pagination__title">
        <span class="pagination__title-h">Read other posts</span>
        <hr />
    </div>
    <div class="pagination__buttons">
        
        <span class="button previous">
            <a href="https://siyangshao.github.io/posts/%E5%9B%BE%E8%AE%BA%E9%97%AE%E9%A2%98/">
                <span class="button__icon">←</span>
                <span class="button__text">图论问题</span>
            </a>
        </span>
        
        
        <span class="button next">
            <a href="https://siyangshao.github.io/posts/202101/">
                <span class="button__text">202101</span>
                <span class="button__icon">→</span>
            </a>
        </span>
        
    </div>
</div>

  

  

</div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2021 Powered by <a href="http://gohugo.io">Hugo</a></span>
    
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
  </div>
</footer>

<script src="https://siyangshao.github.io/assets/main.js"></script>
<script src="https://siyangshao.github.io/assets/prism.js"></script>







  
</div>

</body>
</html>
